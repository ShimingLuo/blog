<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>Javascript模块化编程：AMD应用 | Null. | 善战者，不武。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="javascript,AMD,require">
    <meta name="description" content="JS模块化编程背景Javascript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。 但是，Javascript不是一种模块化编程语言，它不支持”类”（class），更遑论”模块”（module）了。（ECMAScript标准第六版，将正式支持”类”和”模块”，但还需要很长时间才能投入实用。） 模块就是实现特定功能的一组方法。 1">
<meta name="keywords" content="javascript,AMD,require">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript模块化编程：AMD应用">
<meta property="og:url" content="http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/index.html">
<meta property="og:site_name" content="Null.">
<meta property="og:description" content="JS模块化编程背景Javascript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。 但是，Javascript不是一种模块化编程语言，它不支持”类”（class），更遑论”模块”（module）了。（ECMAScript标准第六版，将正式支持”类”和”模块”，但还需要很长时间才能投入实用。） 模块就是实现特定功能的一组方法。 1">
<meta property="og:locale" content="简体中文">
<meta property="og:updated_time" content="2017-04-06T09:51:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javascript模块化编程：AMD应用">
<meta name="twitter:description" content="JS模块化编程背景Javascript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。 但是，Javascript不是一种模块化编程语言，它不支持”类”（class），更遑论”模块”（module）了。（ECMAScript标准第六版，将正式支持”类”和”模块”，但还需要很长时间才能投入实用。） 模块就是实现特定功能的一组方法。 1">
    
        <link rel="alternative" href="/atom.xml" title="Null." type="application/atom+xml">
    
    <link rel="shortcut icon" href="/blog/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@1.5.2/css/style.css">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/blog/img/brand.jpg)">
      <div class="brand">
        <a href="/blog/" class="avatar waves-effect waves-circle waves-light">
          <img src="/blog/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Shiming.Luo</h5>
          <a href="mailto:gavinluo99@gmail.com" title="gavinluo99@gmail.com" class="mail">gavinluo99@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/blog/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/blog/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/blog/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/blog/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://weibo.com/gavinluo99" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                新浪微博
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://weibo.com/gavinluo99" target="_blank" >
                <i class="icon icon-lg icon-link"></i>
                知乎
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://git.oschina.net/gitfuck99" target="_blank" >
                <i class="icon icon-lg icon-git"></i>
                GitOschina(码云)
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/ShimingLuo" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                GitHub
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.facebook.com/ShimingLuo99" target="_blank" >
                <i class="icon icon-lg icon-facebook"></i>
                FaceBook
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/gavinluo99" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Javascript模块化编程：AMD应用</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Javascript模块化编程：AMD应用</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-04-06T09:51:42.000Z" itemprop="datePublished" class="page-time">
  2017-04-06
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/blog/categories/javascript/">javascript</a></li></ul>

            
        </h5>
    </div>

    

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JS模块化编程背景"><span class="post-toc-number">1.</span> <span class="post-toc-text"><a href="#JS&#x6A21;&#x5757;&#x5316;&#x7F16;&#x7A0B;&#x80CC;&#x666F;" class="headerlink" title="JS&#x6A21;&#x5757;&#x5316;&#x7F16;&#x7A0B;&#x80CC;&#x666F;"></a>JS&#x6A21;&#x5757;&#x5316;&#x7F16;&#x7A0B;&#x80CC;&#x666F;</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#模块规范"><span class="post-toc-number">2.</span> <span class="post-toc-text"><a href="#&#x6A21;&#x5757;&#x89C4;&#x8303;" class="headerlink" title="&#x6A21;&#x5757;&#x89C4;&#x8303;"></a>&#x6A21;&#x5757;&#x89C4;&#x8303;</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CommonJS（服务器端）"><span class="post-toc-number">2.1.</span> <span class="post-toc-text"><a href="#CommonJS&#xFF08;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF09;" class="headerlink" title="CommonJS&#xFF08;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF09;"></a>CommonJS&#xFF08;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF09;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AMD规范"><span class="post-toc-number">2.2.</span> <span class="post-toc-text"><a href="#AMD&#x89C4;&#x8303;" class="headerlink" title="AMD&#x89C4;&#x8303;"></a>AMD&#x89C4;&#x8303;</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#模块应用（AMD应用）"><span class="post-toc-number">3.</span> <span class="post-toc-text"><a href="#&#x6A21;&#x5757;&#x5E94;&#x7528;&#xFF08;AMD&#x5E94;&#x7528;&#xFF09;" class="headerlink" title="&#x6A21;&#x5757;&#x5E94;&#x7528;&#xFF08;AMD&#x5E94;&#x7528;&#xFF09;"></a>&#x6A21;&#x5757;&#x5E94;&#x7528;&#xFF08;AMD&#x5E94;&#x7528;&#xFF09;</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#require-js"><span class="post-toc-number">3.1.</span> <span class="post-toc-text"><a href="#require-js" class="headerlink" title="require.js"></a>require.js</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#seaJs"><span class="post-toc-number">3.2.</span> <span class="post-toc-text"><a href="#seaJs" class="headerlink" title="seaJs"></a>seaJs</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#总结"><span class="post-toc-number">4.</span> <span class="post-toc-text"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-Javascript模块化编程：AMD应用"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Javascript模块化编程：AMD应用</h1>
        <div class="post-meta">
            <time class="post-time" title="2017年04月06日 17:51" datetime="2017-04-06T09:51:42.000Z"  itemprop="datePublished">2017-04-06</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/blog/categories/javascript/">javascript</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="JS模块化编程背景"><a href="#JS模块化编程背景" class="headerlink" title="JS模块化编程背景"></a>JS模块化编程背景</h2><p>Javascript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。</p>
<p>但是，Javascript不是一种模块化编程语言，它不支持”类”（class），更遑论”模块”（module）了。（ECMAScript标准第六版，将正式支持”类”和”模块”，但还需要很长时间才能投入实用。）</p>
<p><em>模块就是实现特定功能的一组方法</em>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f01</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// code...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f02</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// code...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的函数f01()和f02()，组成一个模块。使用的时候，直接调用就行了。</p>
<p>缺点明显：”污染”了全局变量，无法保证不与其他模块发生变量名冲突，而且模块成员之间看不出直接关系。</p>
<p><strong>独立性模块</strong></p>
<p>独立性是模块的重要特点，模块内部最好不与程序的其他部分直接交互。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span>(<span class="params">$, YAHOO</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// code...</span></span><br><span class="line">&#125;)(jQuery, YAHOO);</span><br></pre></td></tr></table></figure>
<p>上面的module1模块需要使用jQuery库和YUI库，就把这两个库（其实是两个模块）当作参数输入module1。这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显。</p>
<h2 id="模块规范"><a href="#模块规范" class="headerlink" title="模块规范"></a>模块规范</h2><p>为什么模块重要？</p>
<p>有了模块，我们就可以更方便地使用别人的代码，想要什么功能，就加载什么模块。</p>
<p>但是，这样做有一个前提，那就是大家必须以同样的方式编写模块。</p>
<p>Javascript模块规范有两种：<a href="http://wiki.commonjs.org/wiki/Modules/1.1.1" target="_blank" rel="noopener">CommonJS</a> 和 <a href="https://github.com/amdjs/amdjs-api/wiki/AMD" target="_blank" rel="noopener">AMD</a>。主要介绍AMD，但是先从CommonJS讲起。</p>
<h3 id="CommonJS（服务器端）"><a href="#CommonJS（服务器端）" class="headerlink" title="CommonJS（服务器端）"></a>CommonJS（服务器端）</h3><p>2009年，美国程序员Ryan Dahl创造了<a href="https://nodejs.org/" target="_blank" rel="noopener">node.js</a>项目，将javascript语言用于服务器端编程。</p>
<p>node.js的模块系统，就是参照CommonJS规范实现的。在CommonJS中，有一个全局性方法require()，用于加载模块。假定有一个数学模块math.js，就可以像下面这样加载。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载</span></span><br><span class="line"><span class="keyword">var</span> math = <span class="built_in">require</span>(<span class="string">'math'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用模块提供方法</span></span><br><span class="line">math.add(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p>有了服务器端模块以后，大家就想要客户端模块。而且最好两者能够兼容，一个模块不用修改，在服务器和浏览器都可以运行。</p>
<p>但是，由于该规范采用的是“同步加载”，在浏览器环境中存在网络延迟问题，可能等待较长时间，出现“假死”状态；使得 CommonJS 规范不适用于浏览器环境。</p>
<p>因此，浏览器端的模块，不能采用“同步加载”（synchronous），只能采用“异步加载”（asynchronous）。</p>
<h3 id="AMD规范"><a href="#AMD规范" class="headerlink" title="AMD规范"></a>AMD规范</h3><p>AMD是”Asynchronous Module Definition”的缩写，意思就是”异步模块定义”。它采用异步方式加载模块，模块的加载不影响它后面语句的运行。所有依赖这个模块的语句，都定义在一个回调函数中，等到加载完成之后，这个回调函数才会运行。</p>
<p>AMD也采用require()语句加载模块，但是不同于CommonJS，它要求两个参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>([<span class="built_in">module</span>], callback);</span><br></pre></td></tr></table></figure>
<p>第一个参数[module]，是一个数组，里面的成员就是要加载的模块；第二个参数callback，则是加载成功之后的回调函数。如果将前面的代码改写成AMD形式，就是下面这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>([<span class="string">"math"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">math</span>)</span>&#123;</span><br><span class="line">    math.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>math.add()与math模块加载不是同步的，浏览器不会发生假死。所以很显然，AMD比较适合浏览器环境。</p>
<h2 id="模块应用（AMD应用）"><a href="#模块应用（AMD应用）" class="headerlink" title="模块应用（AMD应用）"></a>模块应用（AMD应用）</h2><h3 id="require-js"><a href="#require-js" class="headerlink" title="require.js"></a>require.js</h3><p>流行的AMD库 <a href="http://requirejs.org/" target="_blank" rel="noopener">require.js</a></p>
<p><strong>1. 为什么使用</strong></p>
<p>最早的时候，所有Javascript代码都写在一个文件里面，只要加载这一个文件就够了。后来，代码越来越多，一个文件不够了，必须分成多个文件，依次加载。下面的网页代码，相信很多人都见过。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"5.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"6.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这样的写法很大的缺点：首先，在加载时，浏览器会停止网页渲染；其次，由于文件之间依赖关系，必须严格保证加载顺序。</p>
<p>require.js的诞生，就是为了解决这两个问题：</p>
<p>（1）实现js文件的异步加载，避免网页失去响应；</p>
<p>（2）管理模块之间的依赖性，便于代码的编写和维护。</p>
<p><strong>2. require.js的加载</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 同步引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 异步引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/require.js"</span> <span class="attr">defer</span> <span class="attr">async</span>=<span class="string">"true"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 指定，入口文件引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/require.js"</span> <span class="attr">data-main</span>=<span class="string">"js/main"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>math.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        add: add</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>.config(&#123;</span><br><span class="line">    baseUrl: <span class="string">"./lib"</span>,</span><br><span class="line">    paths: &#123;</span><br><span class="line">        <span class="string">"jquery"</span>: <span class="string">"jquery/jquery-2.1.4"</span>,</span><br><span class="line">        <span class="comment">// 支持，配置多路径</span></span><br><span class="line">        <span class="comment">// "jquery": ["https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min", "jquery/jquery-2.1.4"],</span></span><br><span class="line">        <span class="string">"jquery.blockUI"</span>: <span class="string">"jquery.blockUI-2.70"</span>,</span><br><span class="line">        <span class="string">"director"</span>: <span class="string">"director-1.2.8/build/director"</span>,</span><br><span class="line">        <span class="string">"math"</span>: <span class="string">"../assets/js/math"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 加载非规范模块</span></span><br><span class="line">    shim: &#123;</span><br><span class="line">        <span class="string">"jquery.blockUI"</span>: &#123;</span><br><span class="line">            deps: [<span class="string">"jquery"</span>],</span><br><span class="line">            exports: <span class="string">"jQuery.fn.blockUI"</span> <span class="comment">// 可删除</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// "jquery.blockUI": ["jquery"], // 简写不需要输出变量的库（插件）</span></span><br><span class="line">        <span class="string">"director"</span>: &#123;</span><br><span class="line">            <span class="comment">//deps: [], // 可删除</span></span><br><span class="line">            exports: <span class="string">"Router"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>([<span class="string">"jquery"</span>, <span class="string">"jquery.blockUI"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $.blockUI();</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $.unblockUI();</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>([<span class="string">"director"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">Router</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> routes = &#123;</span><br><span class="line">        <span class="string">'/home'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"home"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> router = Router(routes);</span><br><span class="line">    router.init();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>require.js还提供一系列 <a href="https://github.com/jrburke/requirejs/wiki/Plugins" target="_blank" rel="noopener">插件</a>，实现一些特定的功能。自行查看</p>
</blockquote>
<h3 id="seaJs"><a href="#seaJs" class="headerlink" title="seaJs"></a>seaJs</h3><blockquote>
<p>待</p>
</blockquote>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>等 ES6 完全普及时，自带了一个 module 加载的方法。当然现在也可以使用 Babel 将 ES6 代码转为 ES5 ，也是可以是直接使用的，但是需要  Node 环境来支持转化。</p>
<p>学习来源：<a href="http://www.ruanyifeng.com/blog/2012/11/require_js.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2012/11/require_js.html</a></p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2017-04-06T09:51:42.000Z" itemprop="dateUpdated">2017年4月6日 17:51</time>
</span><br>


        所属：<a href="/blog/2017/04/06/Javascript模块化编程：AMD应用/" target="_blank" rel="external">http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/</a>
    </div>
    <footer>
        <a href="http://gavinluo.cn/blog">
            <img src="/blog/img/avatar.jpg" alt="Shiming.Luo">
            Shiming.Luo
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/AMD/">AMD</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/require/">require</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/&title=《Javascript模块化编程：AMD应用》 — Null.&pic=http://gavinluo.cn/blog/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/&title=《Javascript模块化编程：AMD应用》 — Null.&source=Null,blog,无聊,有趣,有料" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Javascript模块化编程：AMD应用》 — Null.&url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/&via=http://gavinluo.cn/blog" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/blog/2017/04/06/uploadAttachment-boundary-string/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">上传表单</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/blog/2017/04/05/hexo搭建oschina、GitHub免费博客/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">hexo搭建oschina、GitHub免费博客</h4>
      </a>
    </div>
  
</nav>



    










</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            <span>博客内容遵循 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>Null. &copy; 2017 - 2018</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/&title=《Javascript模块化编程：AMD应用》 — Null.&pic=http://gavinluo.cn/blog/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/&title=《Javascript模块化编程：AMD应用》 — Null.&source=Null,blog,无聊,有趣,有料" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Javascript模块化编程：AMD应用》 — Null.&url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/&via=http://gavinluo.cn/blog" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://gavinluo.cn/blog/2017/04/06/Javascript模块化编程：AMD应用/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACr0lEQVR42u3aMY4jMQwEwP3/p33ARpvMbTcp2XdATWTAA1mlQJKb/PqKn9f3k3z7+vHM3k8+H37w8PDwRlN/ep7eSUbIee0SJ3PGw8PDu83LJ/Eqn6eFSI6fvy93dIDh4eHhfZTXHhj5ryTf4uHh4f2/vPbb2ZLNggk8PDy8d/KSMCIPbfOrdn7YXM9a8PDw8GLeLEL97OeL9T08PDy8RVU9j2VnEXB7Oa7niYeHh3eBlwcEyTadb+KbZaoXCw8PD+8CLw8F2hgiL2glI8wKbHh4eHg3ePmf/NnBkGzfs0JXtAR4eHh413jJn//ZmdMWrtrRfrHg4eHhvYWXbLjJVbttOGg3/WhMPDw8vAu8FpDHGe1U2kaB4n08PDy8Q7y8LTVnzw6JNhqODg88PDy8C7xZkNpejvPmgLbJIG96wMPDwzvFawOItrjVtkzlYxYpCx4eHt5RXhIr5AWwWWtpXn7Lr/J4eHh493izNdi0tObL1AYlj00DeHh4eEd5+SExCyzawDcPf4cNBHh4eHhr3r7gNLsctws3WyA8PDy827xNKLCPKtrSV1HTw8PDwzvKa4duw4sNe39Nx8PDw7vBa4PRTSxbV+HiHOXxV/Dw8PAu82Yb/WbqbaRbLzoeHh7eNd4shpgdHm1xKwc/Xqnx8PDwjvLyDbq9KLfNVZsFLbIWPDw8vDVvU9TfU/MAdxZP4OHh4d3gJSWuWcy6aTg4NRM8PDy8G7zZVPJCVHulnjUWFFkLHh4e3po323ZnU2zTkZYxO07w8PDwZrz2MNiUuNpjZhb+4uHh4b2HNyvYt+wbDVu/jICHh4f3D/OSwyYfuS25Pc4HDw8P76O8JG6YLUG7rHVlDw8PD+8Cry16tbFF0jqQv5OU1vDw8PDu8U4VwNpJ50HwJg7Gw8PDO8r7A6/Wu2DGCrxoAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/blog/', SHARE: true, REWARD: false };



</script>

<script src="//unpkg.com/hexo-theme-material-indigo@1.5.2/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@1.5.2/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '看不懂？';
            clearTimeout(titleTime);
        } else {
            document.title = '懂了？';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
